<!DOCTYPE html>
<html>
<head>
  <title>Custom Bingo Game (1–25)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      background: linear-gradient(120deg, #306af3 0%, #0ed7b7 100%);
      font-family: 'Roboto', Arial, sans-serif;
      text-align: center;
      color: #222;
      margin: 0; padding: 0;
    }
    h1 {
      margin-top: 28px;
      font-size: 46px;
      letter-spacing: 8px;
      color: #fff;
      text-shadow: 0 2px 10px rgba(0,0,0,0.15), 0 0 4px #0ed7b7;
    }
    #bingo-letters {
      margin: 20px auto 16px auto;
      letter-spacing: 20px;
      font-size: 38px;
      display: flex; justify-content: center;
    }
    #bingo-letters span {
      background: #fff;
      border: 2.5px solid #306af3;
      color: #306af3;
      border-radius: 20px;
      margin: 0 8px;
      min-width: 44px;
      padding: 0 12px;
      font-weight: bold;
      box-shadow: 2px 5px 18px #306af333;
      transition: background 0.5s, color 0.5s;
      text-decoration: none;
    }
    #bingo-letters span.striked {
      background: linear-gradient(120deg, #0ed7b7 0%, #306af3 100%);
      color: #fff;
      text-shadow: 0 6px 10px #0ed7b755;
      box-shadow: 0 0 16px #306af380;
      filter: brightness(1.12);
      animation: glow 0.5s;
      text-decoration: line-through;
    }
    @keyframes glow { 0%{box-shadow:0 0 0 #0ed7b7;} 100%{box-shadow: 0 0 20px #0ed7b7} }
    #container {
      margin-bottom: 18px;
      display: inline-block;
      background: rgba(255,255,255,0.25);
      border-radius: 22px;
      padding: 14px 16px 16px 16px;
      box-shadow: 0 12px 30px #306af380;
    }
    table {
      border-collapse: collapse;
      margin: auto;
      box-shadow: 0 6px 18px #306af355;
      width: 340px; height: 340px;
    }
    td {
      width: 56px; height: 56px;
      border-radius: 10px;
      border: 2.5px solid #306af3;
      font-size: 32px;
      background: #fff;
      margin: 5px; text-align: center;
      cursor: pointer;
      transition: background 0.3s, color 0.3s;
    }
    td.striked {
      background: linear-gradient(120deg, #0ed7b7 0%, #306af3 100%);
      color: #fff;
      font-weight: bold;
      box-shadow: 0 2px 16px #0ed7b766;
      animation: pop .3s;
    }
    @keyframes pop { 50%{transform:scale(1.08);} }
    input.cell-input {
      width: 42px !important;
      height: 36px;
      font-size: 22px;
      background: rgba(255,255,255,0.75);
      border: 1.5px solid #aadddd;
      text-align: center;
      border-radius: 8px;
      margin: 2px auto;
      transition: box-shadow 0.2s;
    }
    button, .setup-btn {
      background: linear-gradient(120deg,#306af3 58%, #0ed7b7 131%);
      color: #fff;
      border: none;
      border-radius: 20px;
      padding: 10px 34px;
      font-size: 22px;
      margin: 12px 13px;
      font-weight: bold;
      box-shadow: 0 2px 8px #0ed7b755;
      cursor: pointer;
      transition: background 0.2s;
    }
    button:hover, .setup-btn:hover { background: linear-gradient(120deg, #0ed7b7, #306af3); }
    #win-animation {
      display: none;
      position: fixed; left: 0; top: 0; z-index: 99;
      width: 100vw; height: 100vh;
      pointer-events: none;
    }
    .burst {
      position: absolute;
      left: 50vw; top: 50vh;
      width: 320px; height: 320px;
      transform: translate(-50%,-50%);
      opacity: 0.35;
      pointer-events: none;
    }
    .burst span {
      position: absolute;
      display: block;
      width: 36px; height: 36px;
      border-radius: 50%;
      opacity: 0.80;
      background: linear-gradient(120deg, #0ed7b7 40%, #306af3 100%);
      animation: explode 1.3s cubic-bezier(.36,2.1,.41,-0.55) 1;
      font-size: 30px; color: #fff; text-align:center; line-height:36px; font-weight:bold;
    }
    @keyframes explode {
      0% {transform:translate(0,0) scale(.5);opacity:1;}
      80% {opacity:0.88;}
      100% {transform: translate(var(--x),var(--y)) scale(0.9);opacity:0;}
    }
    #setup-panel {
      margin: 22px auto; background: #fff4; border-radius: 20px;
      padding: 22px 32px; box-shadow: 0 2px 22px #306af388;
      display: inline-block;
    }
    #setup-panel h3 { margin-bottom: 18px;}
    .cell-input { outline: none;}
  </style>
</head>
<body>
  <h1>BINGO</h1>
  <div id="bingo-letters"></div>
  <div id="setup-panel"></div>
  <div id="container" style="display:none"></div>
  <button style="display:none" id="reset-btn" onclick="resetGame()">Reset</button>
  <div id="win-animation">
    <div class="burst"></div>
  </div>
<script>
const BINGO = ['B','I','N','G','O'];
let grid, strikes;
let started = false;
const ROWS = 5, COLS = 5;
/***** Setup panel for custom or random input *****/
function showSetupPanel() {
  let html = '<h3>Customize your Bingo Grid<br><small>(enter values 1–25, or Randomize)</small></h3>';
  html += '<table>';
  for (let i = 0; i < ROWS; i++) {
    html += '<tr>';
    for (let j = 0; j < COLS; j++) {
      html += `<td><input class="cell-input" id="cell${i}${j}" type="number" min="1" max="25" step="1" required></td>`;
    }
    html += '</tr>';
  }
  html += '</table>';
  html += '<div style="margin-top:16px;">';
  html += `<button class="setup-btn" onclick="randomizeGrid()">Randomize</button>`;
  html += `<button class="setup-btn" onclick="startGame()">Start Game</button>`;
  html += '</div>';
  document.getElementById('setup-panel').innerHTML = html;
}
function randomizeGrid() {
  let nums = Array.from({length: 25}, (_,i) => i+1);
  for (let i = nums.length - 1; i > 0; i--) { // shuffle
    const j = Math.floor(Math.random()*(i+1));
    [nums[i], nums[j]] = [nums[j], nums[i]];
  }
  for(let k=0; k<25; k++) {
    let el = document.getElementById(`cell${Math.floor(k/5)}${k%5}`);
    el.value = nums[k];
  }
}
function startGame() {
  // Validate grid
  let valid = true;
  let entry = [];
  let entered = new Set();
  for(let i=0; i<ROWS; i++){
    let row=[];
    for(let j=0;j<COLS;j++){
      let v = parseInt(document.getElementById(`cell${i}${j}`).value, 10);
      if(isNaN(v)||v<1||v>25||entered.has(v)) valid=false;
      entered.add(v); row.push(v);
    }
    entry.push(row);
  }
  if(!valid || entered.size !== 25){
    alert("Please fill all cells with unique numbers between 1 and 25.");
    return;
  }
  grid = entry;
  strikes = Array.from({length:ROWS}, ()=>Array(COLS).fill(false));
  started = true;
  saveState();
  document.getElementById('setup-panel').style.display='none';
  document.getElementById('container').style.display='';
  document.getElementById('reset-btn').style.display='';
  drawGrid();
}
function loadState() {
  let g = localStorage.getItem('bingoGrid');
  let s = localStorage.getItem('bingoStrikes');
  let st = localStorage.getItem('bingoStarted');
  if (g && s && st==='yes') {
    grid = JSON.parse(g);
    strikes = JSON.parse(s);
    started = true;
    document.getElementById('setup-panel').style.display='none';
    document.getElementById('container').style.display='';
    document.getElementById('reset-btn').style.display='';
    drawGrid();
    return true;
  }
  return false;
}
function saveState() {
  localStorage.setItem('bingoGrid', JSON.stringify(grid));
  localStorage.setItem('bingoStrikes', JSON.stringify(strikes));
  localStorage.setItem('bingoStarted', started?'yes':'no');
}
function resetGame() {
  localStorage.clear();
  location.reload();
}
// MARK/UNMARK CELL
function drawGrid() {
  let html='<table>';
  for(let i=0;i<ROWS;i++) {
    html += '<tr>';
    for(let j=0;j<COLS;j++) {
      let num = grid[i][j];
      let cls = strikes[i][j] ? 'striked' : '';
      html += `<td class="${cls}" onclick="toggleStrike(${i},${j})">${num}</td>`;
    }
    html+='</tr>';
  }
  html+='</table>';
  document.getElementById('container').innerHTML = html;
  drawBingoLetters();
}
function toggleStrike(i,j){
  strikes[i][j]=!strikes[i][j];
  saveState();
  drawGrid();
  checkWin();
}
// Progress of letters
function strikeProgress() {
  let lines=0;
  for(let i=0;i<ROWS;i++) if(strikes[i].every(v=>v)) lines++;
  for(let j=0;j<COLS;j++) if(strikes.every(row=>row[j])) lines++;
  return lines>5?5:lines;
}
function drawBingoLetters() {
  let lines = strikeProgress();
  let html='';
  for (let i = 0; i < 5; i++) {
    html += `<span class="${i < lines ? 'striked' : ''}">${BINGO[i]}</span>`;
  }
  document.getElementById('bingo-letters').innerHTML = html;
}
// WIN ANIMATION
function triggerWinAnimation() {
  let burst = document.querySelector('.burst');
  burst.innerHTML = '';
  document.getElementById('win-animation').style.display = 'block';
  setTimeout(() => document.getElementById('win-animation').style.display='none', 1700);
  for (let k = 0; k < 18; k++) {
    let span = document.createElement('span');
    let angle = 2 * Math.PI * k / 18;
    let radius = 130 + Math.random()*15;
    span.style.left = (150 + Math.cos(angle) * radius) + 'px';
    span.style.top = (150 + Math.sin(angle) * radius) + 'px';
    span.style.setProperty('--x', Math.cos(angle) * radius + 'px');
    span.style.setProperty('--y', Math.sin(angle) * radius + 'px');
    span.innerText = BINGO[ ~~(Math.random()*5) ];
    burst.appendChild(span);
  }
}
// WIN CHECK
function checkWin() {
  if (strikeProgress() === 5) {
    triggerWinAnimation();
    setTimeout(()=>alert("BINGO! You won!"),1400);
  }
}
if(!loadState()) showSetupPanel();
</script>
</body>
</html>
